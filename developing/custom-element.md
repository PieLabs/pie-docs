# Custom Element

The user interface for the PIE is provided in the browser by a [Custom Element](https://www.w3.org/TR/custom-elements/).

It should be defined in an ES6 module which is included as the main entry point the package (see [Packaging](packaging.md))

> The most basic definition of an Element module is an ES6 module (CommonJS is also supported).
> For information on developing and building your Custom Element module with framework support see [Building Modules](building-modules.md)


```javascript
export default class MyPie extends HTMLElement {

  constructor() {
    super();
    this._model = null;
    this._session = null;
  }

  connectedCallback() {
    this.dispatchEvent(new Event('pie.register'));
  }
}
```


The Element receives properties that are set by the PIE Player and may emit events to communicate out the Player.

### `pie.register` Event

A PIE should emit this event when the Custom Element is connected in the DOM. This event is handled by the PIE Player which will call the `model` and `session` properties on the element.


### Properties

#### `model`

The model property should contain the data that the PIE element needs to render the view in its current state.
This property is generated by the PIE [controller](controller.md), so the PIE author has complete control over what the contents of this object will be. See the section on the [controller](controller.md) to understand how this property is set.

#### `session`

The session model represents the state of a user's interaction with the PIE. 
The PIE should emit an event if this state changes due to user interaction in the UI. 

### Events

A PIE should emit the following events in response to user interaction:



### Brower Support

Custom Elements are natively supported in Chrome and are available in other browsers via a polyfill. (Firefox and Webkit have Custom Elements marked as in development - Sep 2016)
